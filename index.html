<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AISRI DIRECT - Online Orders</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link
    rel="icon"
    type="image/png"
    href="https://i.ibb.co/TBfsBjkr/Chat-GPT-Image-Nov-29-2025-08-47-21-PM.png"
  />

  <style>
    /* RESET */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; }

    body {
      font-family: Arial, sans-serif;
      background:#eaeded;
      color:#111;
      display:flex;
      flex-direction:column;
    }

    a { text-decoration:none; color:inherit; }
    .hidden { display:none !important; }

    /* LAYOUT */
    #page { display:flex; flex-direction:column; min-height:100vh; }
    main { max-width:1150px; width:100%; margin:0 auto; padding:1rem 1rem 2rem; flex:1; }

    /* TRICOLOUR BAR */
    .tri-bar {
      width:100%;
      height:4px;
      background: linear-gradient(to right,
        #ff9933 0%, #ff9933 33.33%,
        #ffffff 33.33%, #ffffff 66.66%,
        #138808 66.66%, #138808 100%);
    }

    /* HEADER */
    header {
      background:#131921;
      color:#fff;
      padding:0.6rem 1rem;
      border-bottom:2px solid #232f3e;
      display:flex;
      justify-content:space-between;
      align-items:center;
      flex-wrap:wrap;
    }

    .logo {
      display:flex;
      align-items:center;
      gap:0.5rem;
      cursor:pointer;
    }
    .logo img { height:32px; border-radius:4px; }
    .logo-title { font-weight:700; font-size:1.1rem; }
    .logo-sub { font-size:0.75rem; color:#ddd; }

    .nav-right {
      display:flex;
      gap:0.4rem;
      flex-wrap:wrap;
    }
    .nav-link {
      padding:0.35rem 0.7rem;
      font-size:0.85rem;
      border-radius:4px;
      cursor:pointer;
    }
    .nav-link:hover { background:#232f3e; }

    /* SEARCH BAR */
    .search-bar-wrap {
      width:100%;
      background:#232f3e;
      padding:0.4rem 1rem;
      border-bottom:3px solid #ff9933;
      display:flex;
      justify-content:center;
    }

    .search-inner {
      max-width:1150px;
      width:100%;
      display:flex;
      gap:0.3rem;
    }

    .search-input {
      flex:1;
      padding:0.45rem 0.6rem;
      font-size:0.85rem;
      border-radius:4px 0 0 4px;
      border:none;
    }

    .search-btn {
      padding:0.45rem 0.8rem;
      border:none;
      background:#febd69;
      font-size:0.85rem;
      cursor:pointer;
      font-weight:600;
      border-radius:0 4px 4px 0;
    }

    .search-btn:hover { background:#f3a847; }

    /* CATEGORY BAR */
    .category-bar {
      margin-top:1rem;
      display:flex;
      gap:0.5rem;
      flex-wrap:wrap;
    }

    .cat-btn {
      padding:0.35rem 0.9rem;
      border-radius:999px;
      border:1px solid #ccc;
      background:#f3f3f3;
      cursor:pointer;
      font-size:0.8rem;
    }
    .cat-btn.active {
      background:#ffd814;
      border-color:#fcd200;
    }

    /* PRODUCT GRID */
    .section-title { font-size:1.3rem; margin-bottom:0.35rem; }
    .section-sub { font-size:0.85rem; color:#555; margin-bottom:0.75rem; }

    .product-grid {
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
      gap:1rem;
    }

    /* PRODUCT CARD */
    .card {
      background:#fff;
      border-radius:4px;
      padding:0.75rem;
      box-shadow:0 1px 3px rgba(0,0,0,0.15);
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      height:100%;
    }

    .card-img-wrap {
      width:100%;
      height:140px;
      background:#f9f9f9;
      border:1px solid #eee;
      display:flex;
      align-items:center;
      justify-content:center;
      margin-bottom:0.6rem;
      overflow:hidden;
    }

    .card-img-wrap img {
      max-height:100%;
      object-fit:contain;
      display:block;
    }

    .card-title { font-size:1rem; margin-bottom:0.15rem; }
    .sku-small { font-size:0.75rem; color:#777; margin-bottom:0.25rem; }
    .price { font-size:1rem; font-weight:700; color:#b12704; margin-bottom:0.25rem; }
    .desc { font-size:0.85rem; color:#555; margin-bottom:0.35rem; }
    .status { font-size:0.8rem; font-weight:600; margin-bottom:0.6rem; }
    .status.in { color:#007600; }
    .status.out { color:#b12704; }

    .btn {
      padding:0.5rem;
      border-radius:4px;
      cursor:pointer;
      text-align:center;
      font-size:0.9rem;
      font-weight:600;
      border:none;
    }

    .btn-primary { background:#ffd814; border:1px solid #fcd200; }
    .btn-primary:hover { background:#f7ca00; }
    .btn-disabled { background:#ddd; cursor:not-allowed; }

    /* CHECKOUT PAGE */
    .sku-big {
      font-size:1.8rem;
      font-weight:900;
      margin:0.8rem 0;
      text-align:center;
    }

    .box {
      background:#fff;
      border-radius:4px;
      padding:1rem;
      margin-bottom:1rem;
      box-shadow:0 1px 3px rgba(0,0,0,0.15);
    }

    iframe { border:1px solid #ccc; border-radius:6px; }
  </style>
</head>

<body>
  <div id="page">
    <div class="tri-bar"></div>

    <header>
      <div class="logo" id="navLogo">
        <img src="https://i.ibb.co/TBfsBjkr/Chat-GPT-Image-Nov-29-2025-08-47-21-PM.png">
        <div>
          <div class="logo-title">AISRI DIRECT</div>
          <div class="logo-sub">Direct. Fast. Simple.</div>
        </div>
      </div>

      <div class="nav-right">
        <div class="nav-link" data-page="homePage">Home</div>
        <div class="nav-link" data-page="orderPage" id="navCheckout">Checkout</div>
        <div class="nav-link" data-page="communityPage">Community</div>
        <div class="nav-link" data-page="trackPage">Track Order</div>
        <div class="nav-link" data-page="returnsPage">Returns</div>
        <div class="nav-link" data-page="contactPage">Contact</div>
        <div class="nav-link" data-page="adminPage">Admin</div>
      </div>
    </header>

    <div class="search-bar-wrap">
      <div class="search-inner">
        <input id="searchInput" class="search-input" placeholder="Search AISRI DIRECT products..." />
        <button id="searchBtn" class="search-btn">Search</button>
      </div>
    </div>

    <main>

      <!-- HOME PAGE -->
      <section id="homePage">
        <h1 class="section-title">Products</h1>
        <p class="section-sub">
          Amazon-style browsing with an Indian touch. Use categories and search to find what you need,
          then click <strong>Place Order</strong> for a single-product UPI checkout.
        </p>

        <div class="category-bar" id="categoryBar">
          <button class="cat-btn active" data-cat="all">All</button>
          <button class="cat-btn" data-cat="home">Home & Kitchen</button>
          <button class="cat-btn" data-cat="electronics">Electronics</button>
          <button class="cat-btn" data-cat="fashion">Fashion</button>
          <button class="cat-btn" data-cat="food">Food & Snacks</button>
          <button class="cat-btn" data-cat="bottles">Bottles</button>
          <button class="cat-btn" data-cat="boxes">Boxes / Tiffins</button>
          <button class="cat-btn" data-cat="skincare">Skincare & Makeup</button>
          <button class="cat-btn" data-cat="offers">Offers</button>
        </div>

        <div class="products-header">
          <h2 id="productsTitle">All products</h2>
          <span id="resultCount"></span>
        </div>

        <div id="productGrid" class="product-grid"></div>
      </section>
                <!-- CHECKOUT STEP 1 -->
      <section id="orderPage" class="hidden">
        <h1 class="section-title">Checkout â€“ Step 1</h1>
        <p class="section-sub">
          AISRI DIRECT supports <strong>one product per order</strong>.
          Select a product from the Home page and note your SKU before continuing.
        </p>

        <div class="box">
          <div id="orderProductName" class="order-product-name"></div>
          <div id="orderProductPrice" class="order-price"></div>
          <div id="orderProductDesc" class="order-desc"></div>

          <p id="noProductMessage" class="hidden" style="color:#b12704; font-size:0.9rem;">
            No product selected. Return to the Home page and click <strong>Place Order</strong>.
          </p>

          <h3>Your SKU Code</h3>
          <div id="orderSkuBig" class="sku-big">SKU-XXXX</div>
        </div>

        <div class="box">
          <h3>Step 2 â€“ Continue to Checkout Form</h3>
          <p class="simple-text">The final checkout form includes:</p>
          <ul class="small-muted" style="margin-left:1rem;">
            <li>UPI QR Code</li>
            <li>Name, phone, email</li>
            <li>Full address</li>
            <li>SKU code</li>
            <li>UPI transaction details</li>
          </ul>

          <button id="showFormBtn" class="btn btn-primary" style="margin-top:0.5rem;">
            Continue to Checkout Form
          </button>
        </div>
      </section>

      <!-- CHECKOUT FORM PAGE -->
      <section id="checkoutFormPage" class="hidden">
        <h1 class="section-title">Checkout Form</h1>
        <p class="section-sub">Final step: Fill your details and payment info.</p>

        <div class="box">
          <iframe id="orderFormFrame" style="width:100%; height:750px;" src=""></iframe>
        </div>
      </section>

      <!-- COMMUNITY -->
      <section id="communityPage" class="hidden">
        <h1 class="section-title">Community</h1>
        <p class="section-sub">Share ideas, suggestions, and product experiences.</p>
        <iframe id="padletFrame" style="width:100%; height:600px;"></iframe>
      </section>

      <!-- TRACK ORDER -->
      <section id="trackPage" class="hidden">
        <h1 class="section-title">Track Order</h1>
        <p class="section-sub">
          Use your India Post tracking number to check your shipment status.
        </p>

        <img id="trackThumbImg" style="max-width:600px; border-radius:6px; margin-bottom:1rem;">

        <a href="https://www.indiapost.gov.in/_layouts/15/DOP.Portal.Tracking/TrackConsignment.aspx"
           target="_blank">
          <button class="btn btn-primary">Open India Post Tracking</button>
        </a>
      </section>

      <!-- RETURNS -->
      <section id="returnsPage" class="hidden">
        <h1 class="section-title">Returns & Replacement</h1>
        <iframe id="returnsFormFrame" style="width:100%; height:650px;"></iframe>
      </section>

      <!-- CONTACT -->
      <section id="contactPage" class="hidden">
        <h1 class="section-title">Contact & Support</h1>
        <div class="box">
          <h3>About AISRI DIRECT</h3>
          <p>
            AISRI DIRECT is a community-driven direct shipping platform based in
            <strong>Chennai, Tamil Nadu</strong>.  
            We connect verified suppliers directly to customers, using fast
            <strong>UPI checkout</strong> and a simple <strong>SKU-based</strong> system.
          </p>
        </div>

        <div class="box">
          <div class="contact-grid">
            <div>
              <p><strong>Phone / WhatsApp:</strong><br/> 9360105132<br/> 6380693278</p>
              <p><strong>Email:</strong><br/>
                <a href="mailto:aisridirect001@gmail.com">aisridirect001@gmail.com</a><br/>
                <a href="mailto:aisridirect001@yahoo.com">aisridirect001@yahoo.com</a>
              </p>
            </div>

            <div>
              <p>Submit a support ticket here:</p>
              <iframe id="supportFormFrame" style="width:100%; height:420px;"></iframe>
            </div>
          </div>
        </div>
      </section>

      <!-- ADMIN -->
      <section id="adminPage" class="hidden">
        <h1 class="section-title">Admin â€“ Manage Products</h1>
        <div class="box">
          <p>All products come from <code>products.json</code> in the GitHub repo.</p>
          <pre style="background:#f6f6f6; padding:1rem;">
{
  "id": "1000",
  "name": "Sample Item",
  "price": 100,
  "category": "bottles",
  "statusText": "In Stock",
  "description": "Sample description",
  "image": "https://example.com/image.jpg"
}
          </pre>
          <p>
            After editing <code>products.json</code>, commit & push â€”
            Netlify redeploys automatically.
          </p>
        </div>
      </section>
    </main>

    <footer>
      <div class="footer-top-line"></div>
      <div class="footer-text-main">
        Made with love, from <span>Chennai</span> ðŸ‡®ðŸ‡³
      </div>
      <div class="footer-text-sub">
        AISRI DIRECT â€¢ Direct Shipping â€¢ UPI Checkout â€¢ Community-Driven
      </div>
    </footer>
  </div>

  <script>
    /*********************
     CONFIG â€“ CHANGE THESE
    **********************/
    const FORM_URL =
      "https://docs.google.com/forms/d/YOUR_FORM_ID/viewform?embedded=true";
    const PADLET_EMBED_URL =
      "https://padlet.com/YOUR_PADLET_EMBED";
    const SUPPORT_FORM_URL =
      "https://docs.google.com/forms/d/YOUR_SUPPORT_FORM_ID/viewform?embedded=true";
    const RETURN_FORM_URL =
      "https://docs.google.com/forms/d/YOUR_RETURN_FORM_ID/viewform?embedded=true";
    const TRACK_THUMB_URL =
      "https://via.placeholder.com/600x350?text=Track+Order";

    /*********************
      STATE
    **********************/
    let allProducts = [];
    let filteredProducts = [];
    let activeCategory = "all";
    let searchQuery = "";
    let selectedProduct = null;

    /*********************
      NAVIGATION
    **********************/
    const pages = {
      homePage: homePage,
      orderPage: orderPage,
      checkoutFormPage: checkoutFormPage,
      communityPage: communityPage,
      trackPage: trackPage,
      returnsPage: returnsPage,
      contactPage: contactPage,
      adminPage: adminPage,
    };

    function showPage(pageId) {
      Object.values(pages).forEach(p => p.classList.add("hidden"));
      pages[pageId].classList.remove("hidden");
      scrollTo(0,0);
    }

    document.querySelectorAll(".nav-link[data-page]").forEach(link => {
      const page = link.dataset.page;
      if (page === "orderPage") return;
      link.onclick = () => {
        showPage(page);
        if (page === "communityPage") padletFrame.src = PADLET_EMBED_URL;
        if (page === "contactPage") supportFormFrame.src = SUPPORT_FORM_URL;
        if (page === "returnsPage") returnsFormFrame.src = RETURN_FORM_URL;
      };
    });

    navLogo.onclick = () => showPage("homePage");
    navCheckout.onclick = () => {
      updateOrderView();
      showPage("orderPage");
    };

    /*********************
      LOAD products.json
    **********************/
    async function loadProducts() {
      try {
        const res = await fetch("products.json");
        const data = await res.json();

        allProducts = data.map(p => {
          const st = p.statusText.toLowerCase();
          return {
            ...p,
            inStock: st.includes("in stock")
          };
        });

        applyFilters();
      } catch (e) {
        productGrid.innerHTML = `<p>Could not load products.json</p>`;
      }
    }

    /*********************
      FILTER + SEARCH
    **********************/
    function applyFilters() {
      let list = [...allProducts];

      if (activeCategory !== "all")
        list = list.filter(p => p.category === activeCategory);

      if (searchQuery.trim())
        list = list.filter(
          p =>
            p.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
            p.description.toLowerCase().includes(searchQuery.toLowerCase())
        );

      filteredProducts = list;
      renderProducts();
    }

    searchBtn.onclick = () => {
      searchQuery = searchInput.value;
      applyFilters();
    };

    searchInput.onkeyup = e => {
      if (e.key === "Enter") {
        searchQuery = searchInput.value;
        applyFilters();
      }
    };

    categoryBar.onclick = e => {
      const btn = e.target.closest(".cat-btn");
      if (!btn) return;

      activeCategory = btn.dataset.cat;
      document.querySelectorAll(".cat-btn").forEach(b => b.classList.remove("active"));
      btn.classList.add("active");

      productsTitle.textContent =
        activeCategory === "all" ? "All products" : `Category: ${btn.textContent}`;

      applyFilters();
    };

    /*********************
      RENDER PRODUCTS (FIXED ALIGNMENT)
    **********************/
    function renderProducts() {
      productGrid.innerHTML = "";

      filteredProducts.forEach(p => {
        const inStock = p.inStock;
        const card = document.createElement("div");
        card.className = "card";

        card.innerHTML = `
          <div class="card-img-wrap">
            ${p.image ? `<img src="${p.image}">` : ""}
          </div>

          <h3 class="card-title">${p.name}</h3>
          <div class="sku-small">SKU: ${p.id}</div>
          <div class="price">â‚¹${p.price}</div>
          <div class="desc">${p.description}</div>
          <div class="status ${inStock ? "in" : "out"}">
            Status: ${p.statusText}
          </div>

          <button class="btn ${inStock ? "btn-primary" : "btn-disabled"}"
            ${inStock ? "" : "disabled"}
            onclick="startOrder('${p.id}')">
            Place Order
          </button>
        `;
        productGrid.appendChild(card);
      });

      resultCount.textContent =
        filteredProducts.length === 0
          ? "No products found."
          : `${filteredProducts.length} product(s)`;
    }

    /*********************
      ORDER FLOW
    **********************/
    function startOrder(id) {
      selectedProduct = allProducts.find(p => p.id === id);
      updateOrderView();
      showPage("orderPage");
    }

    function updateOrderView() {
      if (!selectedProduct) {
        noProductMessage.classList.remove("hidden");
        orderSkuBig.textContent = "SKU-XXXX";
        return;
      }

      noProductMessage.classList.add("hidden");
      orderProductName.textContent = selectedProduct.name;
      orderProductPrice.textContent = "â‚¹" + selectedProduct.price;
      orderProductDesc.textContent = selectedProduct.description;
      orderSkuBig.textContent = selectedProduct.id;
    }

    showFormBtn.onclick = () => {
      if (!selectedProduct) return;
      orderFormFrame.src = FORM_URL;
      showPage("checkoutFormPage");
    };

    /*********************
      INIT
    **********************/
    function init() {
      showPage("homePage");
      padletFrame.src = PADLET_EMBED_URL;
      trackThumbImg.src = TRACK_THUMB_URL;
      returnsFormFrame.src = RETURN_FORM_URL;
      supportFormFrame.src = SUPPORT_FORM_URL;
      loadProducts();
    }

    init();
  </script>
</body>
</html>

